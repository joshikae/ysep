<!DOCTYPE html>
<html>
<head>
    <title>Speech to Text</title>
</head>
<body>
    <button onclick="startRecording()">Start Recording</button>
    <button onclick="stopRecording()">Stop Recording</button>
    <div id="output"></div>

    <script>
        let recognition;
        let outputDiv = document.getElementById('output');
        let transcription = '';

        // Simulated database
        const database = [
            { phrase: 'hello', translation: 'bonjour' },
            { phrase: 'goodbye', translation: 'au revoir' },
            // Add more phrases and translations to the database
        ];

        function startRecording() {
            transcription = '';
            outputDiv.innerHTML = 'Listening...';

            // Start recording using the Web Speech API
            recognition = new webkitSpeechRecognition();
            recognition.onresult = handleRecognitionResult;
            recognition.start();
        }

        function stopRecording() {
            outputDiv.innerHTML = 'Processing...';

            // Stop recording and end recognition
            recognition.stop();

            // Perform database integration
            processTranscript(transcription);
        }

        function handleRecognitionResult(event) {
            const transcript = event.results[0][0].transcript;
            transcription += transcript + ' ';

            outputDiv.innerHTML = transcription;
        }

        function processTranscript(transcript) {
            // Perform speech-to-text processing using the database
            const words = transcript.toLowerCase().split(' ');

            let translation = '';
            words.forEach((word) => {
                const databaseEntry = database.find((entry) => entry.phrase.toLowerCase() === word);
                if (databaseEntry) {
                    translation += databaseEntry.translation + ' ';
                }
            });

            outputDiv.innerHTML = translation;
        }
    </script>
</body>
</html>

